<!DOCTYPE html>
<html>

<script type="text/javascript">
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?639ab28f32e0029ed25324113f0ff34a";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


<head>
  <meta charset="utf-8">
  
  <title>HYPER-V 中的处理器兼容性模式 | 运维生存时间</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="hyper 处理器 兼容性模式">
<meta property="og:type" content="article">
<meta property="og:title" content="HYPER-V 中的处理器兼容性模式">
<meta property="og:url" content="http://ttlop.com/2016/09/03/HYPER-V-中的处理器兼容性模式/index.html">
<meta property="og:site_name" content="运维生存时间">
<meta property="og:description" content="hyper 处理器 兼容性模式">
<meta property="og:updated_time" content="2016-09-03T02:19:53.555Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="HYPER-V 中的处理器兼容性模式">
<meta name="twitter:description" content="hyper 处理器 兼容性模式">
  
    <link rel="alternate" href="/atom.xml" title="运维生存时间" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">运维生存时间</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">业精于勤而荒于嬉，行成于思而毁于随</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/About">About</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://ttlop.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-HYPER-V-中的处理器兼容性模式" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/03/HYPER-V-中的处理器兼容性模式/" class="article-date">
  <time datetime="2016-09-03T01:37:16.000Z" itemprop="datePublished">2016-09-03</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Hyper-V/">Hyper-V</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      HYPER-V 中的处理器兼容性模式
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>适用对象：Windows Server 2008 R2, Windows Server 2012 R2, Windows Server 2012, Hyper-V Server 2012 R2</p>
<p>HYPER-V 提供了名为处理器兼容性模式的功能，第一次引入是在 Windows Server 2008 R2 中。 处理器兼容性模式允许您在使用不同的几代的处理器的虚拟化主机之间迁移正在运行的虚拟机。 此功能的工作原理是禁用了大量的现代处理器功能，这可能会影响虚拟机性能。 本文档提供了用于 HyperV 的处理器兼容性模式有关的详细信息。</p>
<a id="more"></a>
<h3 id="何时使用处理器兼容性模式"><a href="#何时使用处理器兼容性模式" class="headerlink" title="何时使用处理器兼容性模式"></a>何时使用处理器兼容性模式</h3><p>处理器兼容性模式是适用于任何不涉及重新启动虚拟机的虚拟机移动性方案。 其中包括虚拟机实时迁移，保存和还原和生产检查点。</p>
<p>在使用不同的 CPU 制造商的处理器的虚拟化主机上不能实时迁移或保存和还原跨虚拟机。 例如，您不能从具有 Intel 处理器的主机移动正在运行的虚拟机或虚拟机到 AMD 处理器的主机。 如果您必须在这种情况下移动虚拟机，必须首先关闭，然后在新的主机上重新启动虚拟机。</p>
<p>如果你打算在使用不同的几代的处理器的虚拟化主机之间移动虚拟机时避免重新启动它们，则应启用处理器兼容性模式。 例如，您可以启用处理器兼容性模式，以确保你可以在使用不同的处理器功能集的群集节点之间实时迁移虚拟机。 您还可以使用处理器兼容性模式以保存虚拟机并将其还原到具有不同处理器的主机集。</p>
<h3 id="为什么需要处理器兼容性模式"><a href="#为什么需要处理器兼容性模式" class="headerlink" title="为什么需要处理器兼容性模式"></a>为什么需要处理器兼容性模式</h3><p>指令集体系结构 (ISA) 扩展是由处理器制造商引入的i优化功能。 这些功能通常用于将特定任务使用专门改进性能或安全性的硬件处理。 例如，应对多媒体应用程序制作的处理器功能偏向于提高向量计算的速度。 这些功能是很少的应用程序运行所必须的；它们大部分时候只是提高性能。</p>
<p>一个处理器的功能集具体取决于其品牌、 型号和年龄而异。 操作系统和应用程序软件通常在首次启动时枚举系统的处理器功能集。 软件不用的处理器功能会在其生存期内发生变化 — 当然，这这种情况在物理计算机上运行时可能永远不会发生，因为处理器功能是静态的。</p>
<p>虚拟机移动功能允许运行的虚拟机迁移到新的虚拟化主机。 但是如果在虚拟机中的软件已检测到并开始使用一个特定的处理器的功能，并且它被移到新的虚拟化主机缺少这一功能，该软件启动可能会失败。 这可能导致虚拟机崩溃。</p>
<p>若要避免这些故障，HYPER-V 执行”预航班”检查虚拟机实时迁移时或启动保存/还原操作。 这些检查将可供针对的目标主机可用的功能集的源主机上的虚拟机的处理器功能的集进行比较。 如果这些功能集不匹配，则迁移或还原操作将被取消。</p>
<h3 id="处理器兼容性模式的工作原理"><a href="#处理器兼容性模式的工作原理" class="headerlink" title="处理器兼容性模式的工作原理"></a>处理器兼容性模式的工作原理</h3><p>处理器兼容性模式下将隐藏较新的处理器指令集，通常为那些在最近 10 年内内引入。 但是，隐藏这些功能意味着来宾操作系统和应用程序软件不能充分利用这些处理器指令集增强功能。</p>
<h3 id="使用处理器兼容性模式的后果"><a href="#使用处理器兼容性模式的后果" class="headerlink" title="使用处理器兼容性模式的后果"></a>使用处理器兼容性模式的后果</h3><p>很难量化处理器兼容性模式的整体性能效果。 性能损失是主要取决于虚拟机中运行的工作负荷。 某些工作负荷会完全不会受到影响，而其他人将显示明显的差别。将最大影响很大程度依赖于硬件优化 （如加密、 压缩或密集型的浮点计算) 的软件。</p>
<h3 id="使用处理器兼容性模式"><a href="#使用处理器兼容性模式" class="headerlink" title="使用处理器兼容性模式"></a>使用处理器兼容性模式</h3><p>应该理解何时在 Hyper-v：使用处理器兼容性模式</p>
<ul>
<li><p>可以仅使用来自同一制造商的处理器的虚拟化主机之间迁移正在运行的虚拟机。</p>
</li>
<li><p>您在启用或禁用处理器兼容性模式之前必须关闭虚拟机。</p>
</li>
<li><p>处理器兼容性模式下不需要用于涉及一个停止并重新启动的虚拟机的虚拟机上移。</p>
</li>
<li><p>虚拟机重新启动时，任何时候来宾操作系统将枚举在新的主机计算机可用的处理器功能。</p>
</li>
</ul>
<h3 id="启用处理器兼容性模式"><a href="#启用处理器兼容性模式" class="headerlink" title="启用处理器兼容性模式"></a>启用处理器兼容性模式</h3><p>若要启用虚拟机的处理器兼容性模式</p>
<ol>
<li><p>单击“开始”，指向“管理工具”，然后单击“Hyper-V 管理器”。</p>
</li>
<li><p>选择运行 HYPER-V 和所需的虚拟机的服务器。</p>
</li>
<li><p>如果虚拟机正在运行，则必须关闭虚拟机来更改该处理器兼容性模式设置。</p>
</li>
<li><p>在操作窗格中，单击设置，然后单击处理器。</p>
</li>
<li><p>展开处理器，然后单击兼容性。</p>
</li>
<li><p>单击迁移到具有不同处理器的物理计算机，然后单击确定</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://ttlop.com/2016/09/03/HYPER-V-中的处理器兼容性模式/" data-id="cj1q0819h001qdbpvvu0ib6iw" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/09/07/Centos-7-更改-hostname/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Centos 7 更改 hostname
        
      </div>
    </a>
  
  
    <a href="/2016/09/02/Windows-NIC-组合/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Windows NIC 组合</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Apache/">Apache</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Bat/">Bat</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Centos-7/">Centos 7</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/HTTP/">HTTP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/HUAWEI/">HUAWEI</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hadoop/">Hadoop</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hexo/">Hexo</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hyper-V/">Hyper-V</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Iptables/">Iptables</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Microsoft-SQL-Server/">Microsoft SQL Server</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/MikroTik/">MikroTik</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mysql/">Mysql</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Nagios/">Nagios</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Nginx/">Nginx</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Postfix/">Postfix</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Redis/">Redis</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Web/">Web</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Windows/">Windows</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Zabbix/">Zabbix</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/04/20/Python-编码/">Python 编码</a>
          </li>
        
          <li>
            <a href="/2017/03/16/华为S系列交换机配置SSH登录/">华为S系列交换机配置SSH登录</a>
          </li>
        
          <li>
            <a href="/2017/02/15/Zabbix-监控-Windows-的-CPU-百分比/">Zabbix 监控 Windows 的 CPU 百分比</a>
          </li>
        
          <li>
            <a href="/2017/02/14/Linux-访问-Windows-共享文件夹的两种方法/">Linux 访问 Windows 共享文件夹的两种方法</a>
          </li>
        
          <li>
            <a href="/2016/12/13/HTTP-请求/">HTTP 请求</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 XiaoYong Hu<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/About" class="mobile-nav-link">About</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>